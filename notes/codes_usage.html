<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css">

/*body {
   width: 1000px;
   margin-left: auto;
   margin-right: auto;
}
*/
table {
    margin: 0 auto;
    text-align: center;
    border-collapse: collapse;
    vertical-align: center;
    valig: center;
}

th,
td {
    padding: 5px;
    vertical-align: middle;
    /*text-align: left;*/
    /*border-bottom: 1px solid #ddd;*/
}

tr:nth-child(even) {
    background-color: #e6e6e6
}

tr:hover {
    background-color: #bfbfbf
}

.strike {
  text-decoration: line-through;
}

p {
    max-width: 1000px;
    text-align: justify;
    text-justify: inter-word;
} 

li {
    max-width: 1000px;
    text-align: justify;
    text-justify: inter-word;
}

</style>
<style type="text/css">

/*
*   math2html: convert LaTeX equations to HTML output.
*
*   Copyright (C) 2009,2010 Alex Fernández
*
*   Released under the terms of the `2-Clause BSD license'_, in short:
*   Copying and distribution of this file, with or without modification,
*   are permitted in any medium without royalty provided the copyright
*   notice and this notice are preserved.
*   This file is offered as-is, without any warranty.
*
* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause
*
*   Based on eLyXer: convert LyX source files to HTML output.
*   http://elyxer.nongnu.org/
*/
/* --end--
* CSS file for LaTeX formulas.
*/

/* Formulas */
.formula {
	text-align: center;
	font-family: "Droid Serif", "DejaVu Serif", "STIX", serif;
	margin: 1.2em 0;
}
span.formula {
	white-space: nowrap;
}
div.formula {
	padding: 0.5ex;
	margin-left: auto;
	margin-right: auto;
}

/* Basic features */
a.eqnumber {
	display: inline-block;
	float: right;
	clear: right;
	font-weight: bold;
}
span.unknown {
	color: #800000;
}
span.ignored, span.arraydef {
	display: none;
}
.formula i {
	letter-spacing: 0.1ex;
}

/* Alignment */
.align-left, .align-l {
	text-align: left;
}
.align-right, .align-r {
	text-align: right;
}
.align-center, .align-c {
	text-align: center;
}

/* Structures */
span.overline, span.bar {
	text-decoration: overline;
}
.fraction, .fullfraction {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
}
.fraction .fraction {
	font-size: 80%;
	line-height: 100%;
}
span.numerator {
	display: block;
}
span.denominator {
	display: block;
	padding: 0ex;
	border-top: thin solid;
}
sup.numerator, sup.unit {
	font-size: 70%;
	vertical-align: 80%;
}
sub.denominator, sub.unit {
	font-size: 70%;
	vertical-align: -20%;
}
span.sqrt {
	display: inline-block;
	vertical-align: middle;
	padding: 0.1ex;
}
sup.root {
	font-size: 70%;
	position: relative;
	left: 1.4ex;
}
span.radical {
	display: inline-block;
	padding: 0ex;
	font-size: 150%;
	vertical-align: top;
}
span.root {
	display: inline-block;
	border-top: thin solid;
	padding: 0ex;
	vertical-align: middle;
}
span.symbol {
	line-height: 125%;
	font-size: 125%;
}
span.bigsymbol {
	line-height: 150%;
	font-size: 150%;
}
span.largesymbol {
	font-size: 175%;
}
span.hugesymbol {
	font-size: 200%;
}
span.scripts {
	display: inline-table;
	vertical-align: middle;
}
.script {
	display: table-row;
	text-align: left;
	line-height: 150%;
}
span.limits {
	display: inline-table;
	vertical-align: middle;
}
.limit {
	display: table-row;
	line-height: 99%;
}
sup.limit, sub.limit {
	line-height: 100%;
}
span.symbolover {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 100%;
	bottom: 0.5em;
	width: 0px;
}
span.withsymbol {
	display: inline-block;
}
span.symbolunder {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 80%;
	top: 0.3em;
	width: 0px;
}

/* Environments */
span.array, span.bracketcases, span.binomial, span.environment {
	display: inline-table;
	text-align: center;
	border-collapse: collapse;
	margin: 0em;
	vertical-align: middle;
}
span.arrayrow, span.binomrow {
	display: table-row;
	padding: 0ex;
	border: 0ex;
}
span.arraycell, span.bracket, span.case, span.binomcell, span.environmentcell {
	display: table-cell;
	padding: 0ex 0.2ex;
	line-height: 99%;
	border: 0ex;
}
/*
* CSS file for LaTeX formulas, extra stuff:
* binomials, vertical braces, stackrel, fonts and colors.
*/

/* Inline binomials */
span.binom {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
	font-size: 80%;
}
span.binomstack {
	display: block;
	padding: 0em;
}

/* Over- and underbraces */
span.overbrace {
	border-top: 2pt solid;
}
span.underbrace {
	border-bottom: 2pt solid;
}

/* Stackrel */
span.stackrel {
	display: inline-block;
	text-align: center;
}
span.upstackrel {
	display: block;
	padding: 0em;
	font-size: 80%;
	line-height: 64%;
	position: relative;
	top: 0.15em;

}
span.downstackrel {
	display: block;
	vertical-align: bottom;
	padding: 0em;
}

/* Fonts */
span.mathsf, span.textsf {
	font-style: normal;
	font-family: sans-serif;
}
span.mathrm, span.textrm {
	font-style: normal;
	font-family: serif;
}
span.text, span.textnormal {
	font-style: normal;
}
span.textipa {
	color: #008080;
}
span.fraktur {
	font-family: "Lucida Blackletter", eufm10, blackletter;
}
span.blackboard {
	font-family: Blackboard, msbm10, serif;
}
span.scriptfont {
	font-family: "Monotype Corsiva", "Apple Chancery", "URW Chancery L", cursive;
	font-style: italic;
}

/* Colors */
span.colorbox {
	display: inline-block;
	padding: 5px;
}
span.fbox {
	display: inline-block;
	border: thin solid black;
	padding: 2px;
}
span.boxed, span.framebox {
	display: inline-block;
	border: thin solid black;
	padding: 5px;
}


</style>
</head>
<body>
<div class="document">


<p>Codes Usage</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#hdust" id="id1">Hdust</a><ul>
<li><a class="reference internal" href="#flags" id="id2">Flags</a></li>
<li><a class="reference internal" href="#computational-time" id="id3">Computational time</a></li>
<li><a class="reference internal" href="#bugs" id="id4">Bugs</a></li>
<li><a class="reference internal" href="#mesocentre" id="id5">Mesocentre</a><ul>
<li><a class="reference internal" href="#running-times" id="id6">Running times</a></li>
</ul>
</li>
<li><a class="reference internal" href="#precalcs" id="id7"><tt class="docutils literal">precalcs</tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#tlusty-synspec" id="id8">Tlusty + Synspec</a><ul>
<li><a class="reference internal" href="#kurucz" id="id9">Kurucz</a></li>
<li><a class="reference internal" href="#hdust-pro" id="id10">hdust.pro</a></li>
<li><a class="reference internal" href="#synspec-synplot" id="id11">Synspec + Synplot</a><ul>
<li><a class="reference internal" href="#synspec" id="id12">Synspec</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#vartools" id="id13">VARTOOLS</a><ul>
<li><a class="reference internal" href="#basic-help-commands" id="id14">Basic/help commands</a><ul>
<li><a class="reference internal" href="#basic-rms" id="id15">Basic RMS</a></li>
<li><a class="reference internal" href="#basic-list-rms" id="id16">Basic list RMS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#site-examples" id="id17">Site examples</a><ul>
<li><a class="reference internal" href="#fitting-a-quadratic-polynomial-in-jd-to-a-list-of-light-curves" id="id18">Fitting a quadratic polynomial in JD to a list of light curves</a></li>
<li><a class="reference internal" href="#performing-a-lomb-scargle-period-search-on-a-light-curve-and-fitting-a-harmonic-series-to-the-light-curve" id="id19">Performing a Lomb-Scargle period search on a light curve and fitting a harmonic series to the light curve</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#amdlib" id="id20">amdlib</a><ul>
<li><a class="reference internal" href="#install" id="id21">Install</a></li>
<li><a class="reference internal" href="#running" id="id22">Running</a></li>
</ul>
</li>
<li><a class="reference internal" href="#numba" id="id23"><tt class="docutils literal">numba</tt></a></li>
</ul>
</div>
<div class="section" id="hdust">
<h1><a class="toc-backref" href="#id1">Hdust</a></h1>
<div class="section" id="flags">
<h2><a class="toc-backref" href="#id2">Flags</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="10%" />
<col width="13%" />
<col width="10%" />
<col width="39%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Compiler</th>
<th class="head">FC (s)</th>
<th class="head">CFLAGS (s)</th>
<th class="head">FC (par)</th>
<th class="head">CFLAGS (par)</th>
<th class="head">clusters</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>intel</td>
<td>ifort</td>
<td>-132</td>
<td>mpif90</td>
<td>-132 -xHost -O3 -ipo -no-prec-div</td>
<td>acrux, lical</td>
</tr>
<tr><td>path_scale</td>
<td>pathf95</td>
<td></td>
<td>mpif90</td>
<td>-apo -Ofast</td>
<td>projekct</td>
</tr>
<tr><td>gfortran</td>
<td>gfortran</td>
<td></td>
<td>mpif90</td>
<td>-O2</td>
<td>acrux</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="computational-time">
<h2><a class="toc-backref" href="#id3">Computational time</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="14%" />
<col width="19%" />
<col width="7%" />
<col width="29%" />
<col width="12%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Step</th>
<th class="head">n_f</th>
<th class="head">time (min)</th>
<th class="head">ncr</th>
<th class="head"><span class="formula">Σ<sub>0</sub></span>
</th>
<th class="head">n_proc</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>1</td>
<td>2.5e6</td>
<td>1.5</td>
<td>?</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>1</td>
<td>2.5e7</td>
<td>15</td>
<td>?</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>1</td>
<td>2.0e7</td>
<td>53</td>
<td>40</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>1</td>
<td>7.5e8</td>
<td>390</td>
<td>40</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>5, Sob 1</td>
<td>5.0e6</td>
<td>3</td>
<td>?</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>5, Sob 1</td>
<td>5.0e7</td>
<td>30</td>
<td>?</td>
<td>?</td>
<td>48</td>
</tr>
<tr><td>5, Sob 0</td>
<td>2.0e7</td>
<td>2</td>
<td>?</td>
<td>?</td>
<td>48</td>
</tr>
</tbody>
</table>
<p>Valores para teste (execução em aprox. 1 min em <tt class="docutils literal">mpirun <span class="pre">-np</span> 3</tt>):</p>
<ul class="simple">
<li>step1: 40000</li>
<li>SED: 500000 (Sob 0)</li>
<li>Ha: 60000 (Sob 1)</li>
</ul>
</div>
<div class="section" id="bugs">
<h2><a class="toc-backref" href="#id4">Bugs</a></h2>
<p>Afirmação de 17/06/2013: <tt class="docutils literal">NaN</tt> não é um problemas de compilador ou cluster. Resultados idẽnticos no cluster projekct e na alphacrucis.</p>
<pre class="code literal-block">
forrtl: severe (408): fort: (18): Dummy character variable 'MODE' has length 5 which is greater than actual variable length 1
</pre>
<p>Na versão serial: ocorre devido a flag <tt class="docutils literal"><span class="pre">-C</span></tt> na compilação.</p>
<pre class="code literal-block">
forrtl: severe (71): integer divide by zero
</pre>
<p>Na versão paralela: ocorre devido a um arquivo mal especificado no input!</p>
<pre class="code literal-block">
Program received signal SIGFPE: Floating point...

Backtrace for this error:
</pre>
<p>Na versão paralela: ocorre devido a um ausência do mpirun no comando de execução!</p>
</div>
<div class="section" id="mesocentre">
<h2><a class="toc-backref" href="#id5">Mesocentre</a></h2>
<p>Or Licallo at CRIMSON. Info at <a class="reference external" href="https://crimson.oca.eu/spip.php?rubrique57">https://crimson.oca.eu/spip.php?rubrique57</a></p>
<pre class="code bash literal-block">
<span class="comment">#!/bin/bash
#OAR -n hdust_dmf
#OAR -l /core=24,walltime=12:00:00
#OAR -p gpu='NO'
#OAR -O out.%jobid%
#OAR -E err.%jobid%
</span>
<span class="name builtin">source</span> /softs/env_default.sh
mpiexec.hydra  -machinefile <span class="name variable">$OAR_FILE_NODES</span> <span class="literal string escape">\
</span>-bootstrap ssh -bootstrap-exec /usr/bin/oarsh <span class="literal string escape">\
</span>-envall ./hdustparv2.02.bc <span class="name variable">input</span> <span class="operator">=</span> hdust_bestar2.02.inp
</pre>
<p>The submission is</p>
<pre class="code bash literal-block">
chmod a+x job.oar
oarsub -S ./job.oar

oarstat
</pre>
<div class="section" id="running-times">
<h3><a class="toc-backref" href="#id6">Running times</a></h3>
<ul class="simple">
<li>bestar2.02, step1, 500000/24, one .temp in 30 sec.</li>
<li>bestar2.02, SED, 500000/24, one .temp in 30 sec.</li>
</ul>
</div>
</div>
<div class="section" id="precalcs">
<h2><a class="toc-backref" href="#id7"><tt class="docutils literal">precalcs</tt></a></h2>
<p>Run it:</p>
<pre class="code bash literal-block">
./precalcs &lt; dust.pre &gt; dust.bin
</pre>
</div>
</div>
<div class="section" id="tlusty-synspec">
<h1><a class="toc-backref" href="#id8">Tlusty + Synspec</a></h1>
<p>Tlusty: A computer program for calculating non-LTE stellar atmosphere models. The hybrid CL/ALI method + superlevels and supertransitions are treated by Opacity Distribution Functions (ODF).</p>
<p>To compile:</p>
<pre class="code bash literal-block">
gfortran -fno-automatic -O3 -ffixed-line-length-none -std<span class="operator">=</span>legacy -o tlusty200 tlusty200.f
</pre>
<p>Error in line 1365 (<em>Tlusty200</em>):</p>
<pre class="code literal-block">
-* ’QTLAS ’,’ITLUCY’,’IACLT ’,’IACLDT
</pre>
<p>Synspec: a general spectrum synthesis program. It assumes an existing atmospheric model (Tlusty or Kurucz).</p>
<p>Synplot: a wrapper for Synspec.</p>
<div class="section" id="kurucz">
<h2><a class="toc-backref" href="#id9">Kurucz</a></h2>
<p><a class="reference external" href="http://kurucz.harvard.edu/">http://kurucz.harvard.edu/</a></p>
<p>Hdust uses <tt class="docutils literal">ap00k1.pck</tt>, with Solar abundances from Anders &amp; Grevesse (1989). In this format, all models are inside a single file.</p>
</div>
<div class="section" id="hdust-pro">
<h2><a class="toc-backref" href="#id10">hdust.pro</a></h2>
<p>ilow = 2; transitions starting at Balmer series (n = ilow = 2).</p>
<p>Nlower = 6; it will consider the following Nlower series (ilow_max = 2+6-1 = 7).</p>
<p>Nupper = 12; each series above (Nlower) will have Nupper transitions.</p>
<p>Nlines = NupperNlower; this is the total number of transitions considered.</p>
</div>
<div class="section" id="synspec-synplot">
<h2><a class="toc-backref" href="#id11">Synspec + Synplot</a></h2>
<p>Arquivos necessários para rodar o synspec:</p>
<ul class="simple">
<li>synspec (EXE) + rotin (EXE)</li>
<li>synplot.pro (IDL)</li>
<li>entrada.5 (&quot;main input&quot;). Aqui também o <tt class="docutils literal">.dat</tt>, arquivos com as informações das transições das linhas (atom models, no site do Tlusty).</li>
<li>kurucz.dat. Modelos de atm. do Kurucz - ou do Tlusty.</li>
</ul>
<pre class="code literal-block">
IDL &gt; synplot49, 0, 0, 0, wsta=6530, we=6600, vrot=0, atmos=['atmos.5', $
'ap00k1tef15000g3.0.dat'], wd=0.5, imode=2, /kurucz, x, y

IDL &gt; synplot49, 0, 0, 0, wsta=6530, we=6600, vrot=0, atmos=[$
'BG15000g300v2'], wd=0.5, imode=2, x, y  ;+ nst file
</pre>
<p>fort.5 = std input; fort.8 = model.</p>
<p>&quot;Bug&quot; no synspec: se o modelo de atmosfera for de 72 (Kurucz), com <tt class="docutils literal">dens=0</tt> ele trava (acontece no último nível de atm. Deve-se remover).</p>
<div class="section" id="synspec">
<h3><a class="toc-backref" href="#id12">Synspec</a></h3>
<p>Para compilar com o synspec com gfortran, vc precisar deixar a linha 1558 e seguinte assim:</p>
<pre class="code literal-block">
 IF(FINSTD.NE.BLNK)
*   OPEN(UNIT=INPFI,FILE=FINSTD,STATUS='UNKNOWN')
</pre>
<p>(acho que é só trocar NAME por FILE).</p>
<pre class="code bash literal-block">
<span class="name variable">$ </span>gfortran -g -fno-automatic -static -o synspec49.exe synspec49.f
</pre>
</div>
</div>
</div>
<div class="section" id="vartools">
<h1><a class="toc-backref" href="#id13">VARTOOLS</a></h1>
<p><a class="reference external" href="http://www.astro.princeton.edu/~jhartman/vartools.html">http://www.astro.princeton.edu/~jhartman/vartools.html</a></p>
<div class="section" id="basic-help-commands">
<h2><a class="toc-backref" href="#id14">Basic/help commands</a></h2>
<pre class="code bash literal-block">
vartools -listcommands
vartools -help
vartools -help <span class="name variable">$commnad</span>
vartools -example <span class="name variable">$command</span>
</pre>
<div class="section" id="basic-rms">
<h3><a class="toc-backref" href="#id15">Basic RMS</a></h3>
<p><code class="bash">vartools -i EXAMPLES/1 -rms</code></p>
<p><tt class="docutils literal"><span class="pre">-i</span> $file</tt>, input of single file</p>
<p><tt class="docutils literal"><span class="pre">-rms</span></tt>, calculate the RMS of the lightcurve.</p>
</div>
<div class="section" id="basic-list-rms">
<h3><a class="toc-backref" href="#id16">Basic list RMS</a></h3>
<p><code class="bash">vartools -l EXAMPLES/lc_list -rms</code></p>
<p><tt class="docutils literal"><span class="pre">-l</span> $file</tt>, where <tt class="docutils literal">$file</tt> is a filename list containing the light curves, a (sub)file per line. The subfile contains a single lightcurve, 3 col: [JD, mag, errmag].</p>
</div>
</div>
<div class="section" id="site-examples">
<h2><a class="toc-backref" href="#id17">Site examples</a></h2>
<div class="section" id="fitting-a-quadratic-polynomial-in-jd-to-a-list-of-light-curves">
<h3><a class="toc-backref" href="#id18">Fitting a quadratic polynomial in JD to a list of light curves</a></h3>
<p><code class="bash">vartools -l EXAMPLES/lc_list -rms -decorr 1 1 1 0 1 1 2 0 -rms -chi2 -tab</code></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-decorr</span> B B B # # B</tt>, decorrelates the light curve against specified signals</dt>
<dd><ul class="first last simple">
<li>0/1 enable/disable</li>
<li>0/1 zero point term is included</li>
<li>0/1 subtract the first term</li>
<li>0/Nglobalterms globalfileN orderN, number of global files (files with JD and signal) + syntax</li>
<li>Nlcterms lccolumnN lcorderN, is the number of light curve specific signals. The columns of these signals are given by lccolumn1...lccolumnN. The orders of the polynomials are given by lcorder1...lcorderN.</li>
<li>0/1 output mode, 0 our [dir]. If 1, the output contains the decorrelated signal.</li>
</ul>
</dd>
</dl>
<p><tt class="docutils literal"><span class="pre">-chi2</span></tt>, Calculate chi2 per dof (degree of freedom) for the light curves. The output will include chi2 and the error weighted mean magnitude.</p>
<p><tt class="docutils literal"><span class="pre">-tab</span></tt> format do output</p>
<p>Minha interpretação: 112 do final do comeando indica que só há um ajust por arquivo (1), as colunas destes sinais são as primeiras, do JD (1), e o polinômio a ser ajustado é de ordem 2 (2). Não faço ideia do pq nao se especifica os dois primeiros termos com <tt class="docutils literal"><span class="pre">-i</span></tt>.</p>
</div>
<div class="section" id="performing-a-lomb-scargle-period-search-on-a-light-curve-and-fitting-a-harmonic-series-to-the-light-curve">
<h3><a class="toc-backref" href="#id19">Performing a Lomb-Scargle period search on a light curve and fitting a harmonic series to the light curve</a></h3>
<p><code class="bash">vartools -i EXAMPLES/2 -LS 1.0 2.0 0.01 1 0 -Killharm ls 0 0 1 EXAMPLES/OUTDIR1 -oneline</code></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-LS</span></tt>, Perform a Generalized Lomb-Scargle (L-S) search of the light curves for periodic sinusoidal signals. The search is done over frequencies between fmin = 1/maxp to fmax = 1/minp, with a uniform frequency step-size of Delta f = subsample/T, where T is the time-span of the observations.</dt>
<dd><ul class="first last simple">
<li>minp maxp subsample Npeaks o(uput)periodogram</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">-Killharm</span></tt>, This command whitens light curves against one or more periods. The mean value of the light curve, the period of the light curve and the cos and sin coefficients are output.</dt>
<dd>Killharm_Per1_Amplitude_1 = Max-Min</dd>
</dl>
<p><tt class="docutils literal"><span class="pre">-oneline</span></tt>, Output each statistic on a separate line rather than using the default of outputing a table. This option can provide more readable output when processing a single light curve. It is not suggested when processing a list of light curves.</p>
</div>
</div>
</div>
<div class="section" id="amdlib">
<h1><a class="toc-backref" href="#id20">amdlib</a></h1>
<p><a class="reference external" href="http://www.jmmc.fr/data_processing_amber.htm">http://www.jmmc.fr/data_processing_amber.htm</a></p>
<div class="section" id="install">
<h2><a class="toc-backref" href="#id21">Install</a></h2>
<p>It worked on Ubuntu 13.10 32-bits (v3.0.6+) and 14.04 64-bits (v3.0.9). Problems with Ubuntu 14.04  and (v3.0.[6-8]) (32-bits and 64-bits).</p>
<pre class="code bash literal-block">
sudo apt-get install yorick
</pre>
<p>Simply unzip the corresponding bin zip and add /path/amdlib-VERSION/bin/amdlib to your <cite>~/.bashrc</cite>:</p>
<pre class="code bash literal-block">
<span class="name builtin">alias </span><span class="name variable">amdlib</span><span class="operator">=</span><span class="literal string double">&quot;$HOME/amdlib/bin/amdlib&quot;</span>
</pre>
</div>
<div class="section" id="running">
<h2><a class="toc-backref" href="#id22">Running</a></h2>
<pre class="code literal-block">
// Access help
help,amdlibFunction
// To run a script
include,&quot;/path/to/script.i&quot;;
</pre>
</div>
</div>
<div class="section" id="numba">
<h1><a class="toc-backref" href="#id23"><tt class="docutils literal">numba</tt></a></h1>
<p>It requires <tt class="docutils literal">llvm 3.7.x</tt>. The compilation flag of the binaries at <a class="reference external" href="http://llvm.org">http://llvm.org</a> are not supported on Ubuntu 14.04, so I needed to compile it.</p>
<p>It makes use of the <tt class="docutils literal">cmake</tt>. And it works like this:</p>
<pre class="code bash literal-block">
<span class="comment"># sudo apt-get install cmake
</span>
mkdir mybuiltdir
<span class="name builtin">cd </span>mybuiltdir

cmake path/to/llvm/source/root

cmake --build .

cmake -DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="name variable">$HOME</span>/.local/ -P cmake_install.cmake
<span class="comment"># cmake --build . --target install</span>
</pre>
</div>
</div>
</body>
</html>
